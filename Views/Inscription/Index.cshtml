@model croupe_06_TournoiGolf.Models.ViewModels.InscriptionViewModel

@{
    ViewData["Title"] = "Inscription au tournoi";
}

<div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
        
        <div class="card">
            <h2>Inscription au tournoi</h2>
            <p class="sub">Remplis le formulaire pour t'inscrire.</p>

            <form action="/Inscription/Index" method="post" onsubmit="return validerFormulaire(this)">
                
                @if (Model != null && Model.TournoiId != null)
                {
                    <input type="hidden" name="TournoiId" value="@Model.TournoiId" />
                }

                @if (ViewBag.Error != null)
                {
                    <div class="error" style="color:red; margin-bottom:15px;">@ViewBag.Error</div>
                }

                <div class="form-group">
                    <label>Prénom</label>
                    <input name="Prenom" type="text" placeholder="Entrez votre prénom" value="@Model?.Prenom" required />
                </div>

                <div class="form-group">
                    <label>Nom</label>
                    <input name="Nom" type="text" placeholder="Entrez votre nom" value="@Model?.Nom" required />
                </div>

                <div class="form-group">
                    <label>Adresse courriel</label>
                    <input name="Email" type="email" placeholder="exemple@email.com" value="@Model?.Email" required />
                </div>

                <div class="form-group">
                    <label>Téléphone</label>
                    <input name="Telephone" type="tel" placeholder="514 000 0000" value="@Model?.Telephone" required />
                </div>

                <div class="form-group">
                    <label>Type de participant</label>
                    <select name="TypeParticipant">
                        <option value="employe">Employé</option>
                        <option value="retraite">Retraité</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Choix d'équipe</label>
                    <select name="ChoixEquipe" id="choixEquipe" onchange="toggleCodeEquipe()">
                        <option value="creer">Créer une nouvelle équipe</option>
                        <option value="rejoindre">Rejoindre une équipe existante</option>
                    </select>
                </div>

                <div class="form-group" id="codeEquipeDiv" style="display:none;">
                    <label>Code d'équipe (si applicable)</label>
                    <input type="text" name="CodeEquipe" placeholder="Code de l'équipe" />
                </div>

                <div class="form-group">
                    <label>Mot de passe</label>
                    <input name="MotDePasseHash" type="password" placeholder="Créez un mot de passe" required />
                </div>

                <button class="btn" type="submit">S'inscrire au tournoi</button>
            </form>

            <div class="footer">
                Déjà inscrit ? <a href="/Auth/Login">Se connecter</a>
            </div>
        </div>

    </div>
</div>

<script>
    function toggleCodeEquipe() {
        var choix = document.getElementById('choixEquipe').value;
        var codeDiv = document.getElementById('codeEquipeDiv');
        if (choix === 'rejoindre') {
            codeDiv.style.display = 'block';
        } else {
            codeDiv.style.display = 'none';
        }
    }
    toggleCodeEquipe();
</script>
